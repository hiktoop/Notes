# Linux 高性能服务器编程

## tcp/ip 协议族

## ip 协议

## tcp 协议

## tcp/ip 协议通信案例

## linux 网络编程基础 api

- socket 地址 api

- 创建

- 命名

- 监听

- 接受连接

- 发起连接

- 关闭连接

- 数据读写

- 带外标记

- 地址信息函数

- socket 选项

- 网络信息 api

## 高级 i/o 函数

- pipe

- dup、dup2

- readv、writev

- sendfile

- mmap、munmap

- splice

- tee

- fcntl

## linux 服务器编程规范

- 日志

- 用户关系

- 进程间关系

- 系统资源限制

- 改变工作目录与跟目录

- 服务器程序后台化

## 服务器编程框架

- 服务器框架

- 服务器编程模型

- i/o 模型

- 两种事件处理模式

- 两种并发模式

- 有限状态机

- 提高性能的建议
  
  - 池
  
  - 数据复制
  
  - 上下文切换和锁

## i/o 复用

- select

- poll

- epoll

- 比较

- 应用：非阻塞 connect、聊天室程序、同时处理tcp与udp

## 信号

## 定时器

## i/o 框架库 libevent

## 多进程编程

- fork and exec

- 避免僵尸进程

- 进程间通信：管道、信号量、共享内存、消息队列

- 进程间传递文件描述符的通用方法

## 多线程编程

- 创建与结束线程

- 读取与设置线程属性

- 信号量、互斥锁与条件变量

## 进程池与线程池

- 概述

- 处理多客户

- 半同步半异步实现

- 基于线程池的简单 cgi 服务器

- 半同步半反应堆实现

- 基于线程池的 web 服务器

## 服务器调制、调试和测试

## 系统监测工具

- tcpdump：抓包

- lsof：列出打开的文件

- nc：快速构建网络连接

- strace：跟踪程序的系统调用与接受的信号

- netstat：网络信息统计工具(网卡接口的连接、路由表信息等)

- vmstat：实时输出系统资源的使用情况

- ifstat：网络流量监测工具

- mpstat：multi-processor statistics(监测多处理器系统的每个CPU使用情况)
